{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var Profile;\nmodule.link(\"../../../api/Profiles/Profile\", {\n  Profile: function (v) {\n    Profile = v;\n  }\n}, 0);\nvar ModalRemove;\nmodule.link(\"../../components/utilities/Modals/ModalRemove.vue\", {\n  \"default\": function (v) {\n    ModalRemove = v;\n  }\n}, 1);\nmodule.exportDefault({\n  name: \"ListProfiles\",\n  components: {\n    ModalRemove: ModalRemove\n  },\n  data: function () {\n    return {\n      headers: [{\n        value: 'description',\n        text: 'Nombre del perfil',\n        sortable: true\n      }, {\n        value: 'action',\n        text: 'Opciones',\n        sortable: false\n      }],\n      profileTemp: {\n        preposition: 'el',\n        typeElement: 'perfil',\n        mainNameElement: '',\n        _id: null,\n        element: {}\n      }\n    };\n  },\n  methods: {\n    openEditProfile: function (profile) {\n      // TODO: Guardar en VUEX\n      console.log(\"Prfile: \", profile);\n      this.$router.push({\n        name: 'home.profiles.edit'\n      });\n    },\n    openRemoveModal: function (profile) {\n      this.profileTemp.element = profile;\n      this.profileTemp._id = profile._id;\n      this.profileTemp.mainNameElement = profile.description;\n      this.$refs.refModalRemove.dialog = true;\n    },\n    deleteProfile: function (idProfile) {\n      var _this = this;\n\n      this.$loader.activate('Eliminando perfil. . .');\n      Meteor.call('profile.delete', {\n        idProfile: idProfile\n      }, function (error, response) {\n        _this.$loader.desactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.response);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  },\n  meteor: {\n    $subscribe: {\n      'profile.listNotStaticProfiles': []\n    },\n    profiles: function () {\n      return Profile.find().fetch();\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Profiles/ListProfiles.vue"],"names":["Profile","module","link","v","ModalRemove","exportDefault","name","components","data","headers","value","text","sortable","profileTemp","preposition","typeElement","mainNameElement","_id","element","methods","openEditProfile","profile","console","log","$router","push","openRemoveModal","description","$refs","refModalRemove","dialog","deleteProfile","idProfile","$loader","activate","Meteor","call","error","response","desactivate","$alert","showAlertSimple","message","meteor","$subscribe","profiles","find","fetch"],"mappings":";;;;;;;;;;;;qBA2CA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,WAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,cAKA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,CACA;AAAA,QAAA,KAAA,EAAA,aAAA;AAAA,QAAA,IAAA,EAAA,mBAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OADA,EAEA;AAAA,QAAA,KAAA,EAAA,QAAA;AAAA,QAAA,IAAA,EAAA,UAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAFA,CADA;AAKA,MAAA,WAAA,EAAA;AACA,QAAA,WAAA,EAAA,IADA;AAEA,QAAA,WAAA,EAAA,QAFA;AAGA,QAAA,eAAA,EAAA,EAHA;AAIA,QAAA,GAAA,EAAA,IAJA;AAKA,QAAA,OAAA,EAAA;AALA;AALA,KAAA;AAaA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,YACA,OADA,EACA;AACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,OAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KALA;AAMA,IAAA,eANA,YAMA,OANA,EAMA;AACA,WAAA,WAAA,CAAA,OAAA,GAAA,OAAA;AACA,WAAA,WAAA,CAAA,GAAA,GAAA,OAAA,CAAA,GAAA;AACA,WAAA,WAAA,CAAA,eAAA,GAAA,OAAA,CAAA,WAAA;AACA,WAAA,KAAA,CAAA,cAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAXA;AAYA,IAAA,aAZA,YAYA,SAZA,EAYA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,CAAA,wBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AAAA,QAAA,SAAA,EAAA;AAAA,OAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,WAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,KAAA,CAAA,QAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,QAAA,CAAA,OAAA;AACA;AACA,OAPA;AAQA;AAtBA,GApBA;AA4CA,EAAA,MAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,uCAAA;AADA,KADA;AAIA,IAAA,QAJA,cAIA;AACA,aAAA,OAAA,CAAA,IAAA,GAAA,KAAA,EAAA;AACA;AANA;AA5CA","sourcesContent":["<template>\r\n    <v-container>\r\n        <v-row justify=\"center\">\r\n            <v-col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" xl=\"5\">\r\n                <div class=\"d-flex flex-row-reverse mb-5\">\r\n                    <v-tooltip bottom>\r\n                        <template v-slot:activator=\"{on}\">\r\n                            <v-btn color=\"success\" v-on=\"on\" fab dark :to=\"{name: 'home.profiles.create'}\">\r\n                                <v-icon>add</v-icon>\r\n                            </v-btn>\r\n                        </template>\r\n                        <span>Agregar perfil</span>\r\n                    </v-tooltip>\r\n                </div>\r\n                <v-data-table :headers=\"headers\" :items=\"profiles\" sort-by=\"name\" class=\"elevation-1\">\r\n                    <template v-slot:item.action=\"{item}\">\r\n                        <v-tooltip bottom>\r\n                            <template  v-slot:activator=\"{on}\">\r\n                                <v-icon color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProfile(item)\">\r\n                                    edit\r\n                                </v-icon>\r\n                            </template>\r\n                            <span>Editar</span>\r\n                        </v-tooltip>\r\n                        <v-tooltip bottom>\r\n                            <template  v-slot:activator=\"{on}\">\r\n                                <v-icon color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\r\n                                    delete\r\n                                </v-icon>\r\n                            </template>\r\n                            <span>Eliminar</span>\r\n                        </v-tooltip>\r\n                    </template>\r\n                </v-data-table>\r\n            </v-col>\r\n        </v-row>\r\n        <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"profileTemp\" @id_element=\"deleteProfile\"></modal-remove>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import { Profile } from '../../../api/Profiles/Profile';\r\n    import ModalRemove from '../../components/utilities/Modals/ModalRemove.vue';\r\n    export default {\r\n        name: \"ListProfiles\",\r\n        components: {\r\n            ModalRemove\r\n        },\r\n        data() {\r\n            return {\r\n                headers: [\r\n                    {value: 'description', text: 'Nombre del perfil', sortable:true},\r\n                    {value: 'action', text: 'Opciones', sortable:false},\r\n                ],\r\n                profileTemp: {\r\n                    preposition: 'el',\r\n                    typeElement: 'perfil',\r\n                    mainNameElement: '',\r\n                    _id: null,\r\n                    element: {}\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            openEditProfile(profile) {\r\n                // TODO: Guardar en VUEX\r\n                console.log(\"Prfile: \", profile);\r\n                this.$router.push({name: 'home.profiles.edit'});\r\n            },\r\n            openRemoveModal(profile) {\r\n                this.profileTemp.element = profile;\r\n                this.profileTemp._id = profile._id ;\r\n                this.profileTemp.mainNameElement = profile.description;\r\n                this.$refs.refModalRemove.dialog = true;\r\n            },\r\n            deleteProfile(idProfile) {\r\n                this.$loader.activate('Eliminando perfil. . .');\r\n                Meteor.call('profile.delete', {idProfile}, (error, response) => {\r\n                    this.$loader.desactivate();\r\n                    if (error) {\r\n                        this.$alert.showAlertSimple('error', error.response);\r\n                    } else {\r\n                        this.$alert.showAlertSimple('success', response.message);\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        meteor: {\r\n            $subscribe: {\r\n                'profile.listNotStaticProfiles': []\r\n            },\r\n            profiles() {\r\n                return Profile.find().fetch();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style> "],"file":"imports/ui/views/Profiles/ListProfiles.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"ListProfiles.vue"}}],"template":"\n<v-container>\n    <v-row justify=\"center\">\n        <v-col xs=\"12\" sm=\"8\" md=\"6\" lg=\"5\" xl=\"5\">\n            <div class=\"d-flex flex-row-reverse mb-5\">\n                <v-tooltip bottom>\n                    <template v-slot:activator=\"{on}\">\n                        <v-btn color=\"success\" v-on=\"on\" fab dark :to=\"{name: 'home.profiles.create'}\">\n                            <v-icon>add</v-icon>\n                        </v-btn>\n                    </template>\n                    <span>Agregar perfil</span>\n                </v-tooltip>\n            </div>\n            <v-data-table :headers=\"headers\" :items=\"profiles\" sort-by=\"name\" class=\"elevation-1\">\n                <template v-slot:item.action=\"{item}\">\n                    <v-tooltip bottom>\n                        <template  v-slot:activator=\"{on}\">\n                            <v-icon color=\"info\" v-on=\"on\" small class=\"mr-2\" @click=\"openEditProfile(item)\">\n                                edit\n                            </v-icon>\n                        </template>\n                        <span>Editar</span>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                        <template  v-slot:activator=\"{on}\">\n                            <v-icon color=\"error\" v-on=\"on\" small class=\"mr-2\" @click=\"openRemoveModal(item)\">\n                                delete\n                            </v-icon>\n                        </template>\n                        <span>Eliminar</span>\n                    </v-tooltip>\n                </template>\n            </v-data-table>\n        </v-col>\n    </v-row>\n    <modal-remove ref=\"refModalRemove\" v-bind:modalData=\"profileTemp\" @id_element=\"deleteProfile\"></modal-remove>\n</v-container>\n","hash":"data-v-226aa63a"}