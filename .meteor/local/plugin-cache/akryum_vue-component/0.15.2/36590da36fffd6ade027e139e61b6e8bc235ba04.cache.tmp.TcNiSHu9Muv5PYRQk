{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: \"Login\",\n  data: function () {\n    return {\n      user: {\n        userOrEmail: null,\n        password: null\n      }\n    };\n  },\n  methods: _objectSpread({}, mapMutations('auth', ['setUser']), {\n    Login: function () {\n      var _this = this;\n\n      Meteor.loginWithPassword(this.user.userOrEmail, this.user.password, function (error) {\n        if (error) {\n          console.error('Error in login', error);\n\n          if (error.error === '403') {\n            _this.$$alert.showAlertFull('mdi-close-circle', 'warning', error.reason, '', 5000, 'center', 'bottom');\n          } else {\n            _this.showAlertSimple('error', 'Credenciales incorrectas');\n          }\n\n          _this.$alert.showAlertSimple('error', 'Credenciales incorrectas');\n        } else {\n          Meteor.logoutOtherClients(function (err) {\n            console.error('Error al cerrar sesion en otros clientes', err);\n          });\n\n          _this.setUser(Meteor.user());\n\n          _this.$router.push({\n            name: 'home'\n          });\n        }\n      });\n    }\n  })\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Auth/Login.vue"],"names":["_objectSpread","module","link","default","v","mapMutations","exportDefault","name","data","user","userOrEmail","password","methods","Login","Meteor","loginWithPassword","error","console","$$alert","showAlertFull","reason","showAlertSimple","$alert","logoutOtherClients","err","setUser","$router","push"],"mappings":";;;;;;;;;;;;;qBAuBA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,WAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA;AAFA;AADA,KAAA;AAMA,GATA;AAUA,EAAA,OAAA,oBACA,YAAA,CAAA,MAAA,EAAA,CAAA,SAAA,CAAA,CADA;AAEA,IAAA,KAFA,cAEA;AAAA;;AACA,MAAA,MAAA,CAAA,iBAAA,CAAA,KAAA,IAAA,CAAA,WAAA,EAAA,KAAA,IAAA,CAAA,QAAA,EAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,OAAA,CAAA,KAAA,CAAA,gBAAA,EAAA,KAAA;;AACA,cAAA,KAAA,CAAA,KAAA,KAAA,KAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,aAAA,CAAA,kBAAA,EAAA,SAAA,EAAA,KAAA,CAAA,MAAA,EACA,EADA,EACA,IADA,EACA,QADA,EACA,QADA;AAEA,WAHA,MAGA;AACA,YAAA,KAAA,CAAA,eAAA,CAAA,OAAA,EAAA,0BAAA;AACA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,0BAAA;AACA,SATA,MASA;AACA,UAAA,MAAA,CAAA,kBAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,KAAA,CAAA,0CAAA,EAAA,GAAA;AACA,WAFA;;AAGA,UAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OAjBA;AAkBA;AArBA;AAVA","sourcesContent":["<template>\r\n    <div class=\"login-wrapper\">\r\n        <div class=\"tittle secondary--text\">Bienvenido!</div>\r\n        <div class=\"display-1 mb-0 secondary--text\">Iniciar sesión</div>\r\n        <v-form @submit.prevent=\"Login\" aria-autocomplete=\"none\">\r\n            <v-text-field id=\"inputUser\" v-model=\"user.userOrEmail\" autocompete=\"off\"\r\n                    label=\"Usuario\" name=\"email\" prepend-icon=\"person\" color=\"primary\" type=\"text\">\r\n            </v-text-field>\r\n            <v-text-field id=\"inputPassword\" label=\"Contraseña\" name=\"password\" \r\n                    prepend-icon=\"lock\" v-model=\"user.password\" type=\"password\">                \r\n            </v-text-field>\r\n            <div class=\"d-flex justify-end\">\r\n                <v-btn color=\"primary\" text :to=\"{name:'forgotPassword'}\" small>¿Olvide mi Contraseña?</v-btn>\r\n            </div>\r\n            <div class=\"d-flex justify-start\">\r\n                <v-btn type=\"submit\" rounded color=\"primary\" transition=\"fade\">Entrar</v-btn>\r\n            </div>\r\n        </v-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {mapMutations} from 'vuex';\r\n    export default {\r\n        name: \"Login\",\r\n        data() {\r\n            return {\r\n                user: {\r\n                    userOrEmail: null,\r\n                    password: null\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapMutations('auth', ['setUser']),\r\n            Login() {\r\n                Meteor.loginWithPassword(this.user.userOrEmail, this.user.password, error => {\r\n                    if (error) {\r\n                        console.error('Error in login', error);\r\n                        if (error.error === '403') {\r\n                            this.$$alert.showAlertFull('mdi-close-circle', 'warning', error.reason, \r\n                                        '', 5000, 'center', 'bottom');\r\n                        } else {\r\n                            this.showAlertSimple('error', 'Credenciales incorrectas');\r\n                        }\r\n                        this.$alert.showAlertSimple('error', 'Credenciales incorrectas');\r\n                     } else {\r\n                         Meteor.logoutOtherClients( err => {\r\n                             console.error('Error al cerrar sesion en otros clientes', err);\r\n                         });\r\n                         this.setUser(Meteor.user());\r\n                        this.$router.push({name: 'home'});\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .login-wrapper {\r\n        margin-top: 45px;\r\n    }\r\n</style>"],"file":"imports/ui/views/Auth/Login.vue"},"styles":[{"css":"\n.login-wrapper[data-v-93246f08] {\n    margin-top: 45px;\n}\n","map":{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AACA;IACI,gBAAgB;AACpB","file":"Login.vue","sourcesContent":["\n.login-wrapper {\n    margin-top: 45px;\n}\n"]}}],"template":"\n<div class=\"login-wrapper\">\n    <div class=\"tittle secondary--text\">Bienvenido!</div>\n    <div class=\"display-1 mb-0 secondary--text\">Iniciar sesión</div>\n    <v-form @submit.prevent=\"Login\" aria-autocomplete=\"none\">\n        <v-text-field id=\"inputUser\" v-model=\"user.userOrEmail\" autocompete=\"off\"\n                label=\"Usuario\" name=\"email\" prepend-icon=\"person\" color=\"primary\" type=\"text\">\n        </v-text-field>\n        <v-text-field id=\"inputPassword\" label=\"Contraseña\" name=\"password\" \n                prepend-icon=\"lock\" v-model=\"user.password\" type=\"password\">                \n        </v-text-field>\n        <div class=\"d-flex justify-end\">\n            <v-btn color=\"primary\" text :to=\"{name:'forgotPassword'}\" small>¿Olvide mi Contraseña?</v-btn>\n        </div>\n        <div class=\"d-flex justify-start\">\n            <v-btn type=\"submit\" rounded color=\"primary\" transition=\"fade\">Entrar</v-btn>\n        </div>\n    </v-form>\n</div>\n","hash":"data-v-93246f08"}