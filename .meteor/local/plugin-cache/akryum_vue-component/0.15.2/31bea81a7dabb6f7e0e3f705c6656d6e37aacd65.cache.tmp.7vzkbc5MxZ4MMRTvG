{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var Profile;\nmodule.link(\"../../../api/Profiles/Profile\", {\n  Profile: function (v) {\n    Profile = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: \"SaveUser\",\n  data: function () {\n    return {\n      user: {\n        _id: null,\n        username: null,\n        emails: [{\n          address: null,\n          verified: false\n        }],\n        profile: {\n          profile: null,\n          name: null,\n          path: null\n        }\n      },\n      dataView: {\n        title: '',\n        targetButton: ''\n      }\n    };\n  },\n  created: function () {\n    if (this.$router.currentRoute.name.includes(\"create\")) {\n      this.dataView.title = \"Crear usuario\";\n      this.dataView.targetButton = \"Crear\";\n    } else if (this.$router.currentRoute.name.includes(\"edit\")) {\n      this.dataView.title = \"Editar usuario\";\n      this.dataView.targetButton = \"Actualizar\";\n      var tempUser = this.$store.state.temporal.element;\n      this.user = {\n        _id: tempUser._id,\n        username: tempUser.username,\n        emails: tempUser.emails,\n        profile: tempUser.profile\n      };\n    }\n  },\n  methods: {\n    saveUser: function () {\n      var _this = this;\n\n      this.$loader.activate('Guardando usuario. . .');\n      Meteor.call('user.save', this.user, function (error, response) {\n        _this.$loader.desactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.$alert.showAlertSimple('success', response.message);\n\n          _this.$router.push({\n            name: 'home.users'\n          });\n        }\n      });\n    }\n  },\n  meteor: {\n    $subscribe: {\n      'profile.listAll': []\n    },\n    profiles: function () {\n      return Profile.find().fetch();\n    }\n  }\n});\n})();","map":{"version":3,"sources":["imports/ui/views/Users/SaveUser.vue"],"names":["Profile","module","link","v","exportDefault","name","data","user","_id","username","emails","address","verified","profile","path","dataView","title","targetButton","created","$router","currentRoute","includes","tempUser","$store","state","temporal","element","methods","saveUser","$loader","activate","Meteor","call","error","response","desactivate","$alert","showAlertSimple","reason","message","push","meteor","$subscribe","profiles","find","fetch"],"mappings":";;;;;;qBA8CA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA,IAFA;AAGA,QAAA,MAAA,EAAA,CAAA;AAAA,UAAA,OAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA,IAFA;AAGA,UAAA,IAAA,EAAA;AAHA;AAJA,OADA;AAWA,MAAA,QAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,YAAA,EAAA;AAFA;AAXA,KAAA;AAgBA,GAnBA;AAoBA,EAAA,OApBA,cAoBA;AACA,QAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,WAAA,QAAA,CAAA,KAAA,GAAA,eAAA;AACA,WAAA,QAAA,CAAA,YAAA,GAAA,OAAA;AACA,KAHA,MAGA,IAAA,KAAA,OAAA,CAAA,YAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAAA,QAAA,CAAA,KAAA,GAAA,gBAAA;AACA,WAAA,QAAA,CAAA,YAAA,GAAA,YAAA;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,OAAA;AACA,WAAA,IAAA,GAAA;AACA,QAAA,GAAA,EAAA,QAAA,CAAA,GADA;AAEA,QAAA,QAAA,EAAA,QAAA,CAAA,QAFA;AAGA,QAAA,MAAA,EAAA,QAAA,CAAA,MAHA;AAIA,QAAA,OAAA,EAAA,QAAA,CAAA;AAJA,OAAA;AAMA;AACA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,cACA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,CAAA,wBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,WAAA,EAAA,KAAA,IAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,WAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,KAAA,CAAA,MAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,QAAA,CAAA,OAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA;AACA,OARA;AASA;AAZA,GApCA;AAkDA,EAAA,MAAA,EAAA;AACA,IAAA,UAAA,EAAA;AACA,yBAAA;AADA,KADA;AAIA,IAAA,QAJA,cAIA;AACA,aAAA,OAAA,CAAA,IAAA,GAAA,KAAA,EAAA;AACA;AANA;AAlDA","sourcesContent":["<template>\r\n    <v-container>\r\n        <v-row>\r\n            <v-col>\r\n                <div class=\"headline\">{{dataView.title}}</div>\r\n            </v-col>\r\n            <v-col cols=\"2\">\r\n                <v-btn block type=\"submit\" form=\"saveUser\" color=\"primary\" v-text=\"dataView.targetButton\">\r\n                </v-btn>\r\n            </v-col>\r\n        </v-row>\r\n        <v-row>\r\n            <v-col>\r\n                <v-card>\r\n                    <v-card-text>\r\n                        <v-form @submit.prevent=\"saveUser\" id=\"saveUser\" autocomplete=\"off\">\r\n                            <v-row>\r\n                                <v-col xs=\"12\" sm=\"12\" md=\"4\">\r\n                                    <img src=\"/img/vuetify.png\" alt=\"Subir imagen\" width=\"150px\">\r\n                                </v-col>\r\n                                <v-col xs=\"12\" sm=\"12\" md=\"8\">\r\n                                    <v-text-field v-model=\"user.profile.name\" id=\"inputName\" name=\"name\" label=\"Nombre\">\r\n                                    </v-text-field>\r\n                                    <v-select v-model=\"user.profile.profile\" id=\"selectProfile\" name=\"profile\" \r\n                                            :items=\"profiles\"\r\n                                            item-text=\"description\" item-value=\"name\"\r\n                                            label=\"Perfil\">\r\n                                    </v-select>\r\n                                    <v-text-field v-model=\"user.username\" id=\"inputUserName\" name=\"username\" label=\"Usuario\">\r\n                                    </v-text-field>\r\n                                    <v-text-field v-model=\"user.emails[0].address\" id=\"inputEmail\" type=\"email\" \r\n                                                name=\"email\" label=\"Correo\">\r\n                                    </v-text-field>\r\n                                </v-col>\r\n                            </v-row>\r\n                        </v-form>\r\n                    </v-card-text>\r\n                </v-card>\r\n            </v-col>\r\n        </v-row>\r\n    </v-container>\r\n</template>\r\n\r\n<script>\r\n    import { Profile } from '../../../api/Profiles/Profile';\r\n\r\n    export default {\r\n        name: \"SaveUser\",\r\n        data() {\r\n            return {\r\n                user: {\r\n                    _id: null,\r\n                    username: null,\r\n                    emails: [{ address: null, verified: false }],\r\n                    profile: {\r\n                        profile: null,\r\n                        name: null,\r\n                        path: null\r\n                    }\r\n                },\r\n                dataView: {\r\n                    title: '',\r\n                    targetButton: ''\r\n                }\r\n            }\r\n        },\r\n        created() {\r\n            if(this.$router.currentRoute.name.includes(\"create\")) {\r\n                this.dataView.title = \"Crear usuario\";\r\n                this.dataView.targetButton = \"Crear\";\r\n            } else if(this.$router.currentRoute.name.includes(\"edit\")){\r\n                this.dataView.title = \"Editar usuario\";\r\n                this.dataView.targetButton = \"Actualizar\";\r\n                const tempUser = this.$store.state.temporal.element;\r\n                this.user = {\r\n                    _id: tempUser._id,\r\n                    username: tempUser.username,\r\n                    emails: tempUser.emails,\r\n                    profile: tempUser.profile,\r\n                };\r\n            }\r\n        },\r\n        methods: {\r\n            saveUser() {\r\n                this.$loader.activate('Guardando usuario. . .');\r\n                Meteor.call('user.save', this.user, (error, response) => {\r\n                    this.$loader.desactivate();\r\n                    if (error) {\r\n                        this.$alert.showAlertSimple('error', error.reason);\r\n                    } else {\r\n                        this.$alert.showAlertSimple('success', response.message);\r\n                        this.$router.push({ name: 'home.users' });\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        meteor: {\r\n            $subscribe: {\r\n                'profile.listAll': []\r\n            },\r\n            profiles () {\r\n                return Profile.find().fetch();\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"file":"imports/ui/views/Users/SaveUser.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"SaveUser.vue"}}],"template":"\n<v-container>\n    <v-row>\n        <v-col>\n            <div class=\"headline\">{{dataView.title}}</div>\n        </v-col>\n        <v-col cols=\"2\">\n            <v-btn block type=\"submit\" form=\"saveUser\" color=\"primary\" v-text=\"dataView.targetButton\">\n            </v-btn>\n        </v-col>\n    </v-row>\n    <v-row>\n        <v-col>\n            <v-card>\n                <v-card-text>\n                    <v-form @submit.prevent=\"saveUser\" id=\"saveUser\" autocomplete=\"off\">\n                        <v-row>\n                            <v-col xs=\"12\" sm=\"12\" md=\"4\">\n                                <img src=\"/img/vuetify.png\" alt=\"Subir imagen\" width=\"150px\">\n                            </v-col>\n                            <v-col xs=\"12\" sm=\"12\" md=\"8\">\n                                <v-text-field v-model=\"user.profile.name\" id=\"inputName\" name=\"name\" label=\"Nombre\">\n                                </v-text-field>\n                                <v-select v-model=\"user.profile.profile\" id=\"selectProfile\" name=\"profile\" \n                                        :items=\"profiles\"\n                                        item-text=\"description\" item-value=\"name\"\n                                        label=\"Perfil\">\n                                </v-select>\n                                <v-text-field v-model=\"user.username\" id=\"inputUserName\" name=\"username\" label=\"Usuario\">\n                                </v-text-field>\n                                <v-text-field v-model=\"user.emails[0].address\" id=\"inputEmail\" type=\"email\" \n                                            name=\"email\" label=\"Correo\">\n                                </v-text-field>\n                            </v-col>\n                        </v-row>\n                    </v-form>\n                </v-card-text>\n            </v-card>\n        </v-col>\n    </v-row>\n</v-container>\n","hash":"data-v-9229bfee"}