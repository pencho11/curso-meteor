{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 0);\nmodule.exportDefault({\n  name: \"UserLogged\",\n  data: function () {\n    return {\n      user: {\n        username: null\n      },\n      onLogoutHook: null\n    };\n  },\n  created: function () {\n    this.setSession();\n  },\n  mounted: function () {\n    var _this = this;\n\n    this.$root.$on('setUserLogged', function () {\n      _this.setSession();\n    });\n    this.onLogoutHook = Accounts.onLogout(function () {\n      _this.closeFrontSession();\n    });\n  },\n  methods: _objectSpread({}, mapMutations('auth', ['logout']), {\n    closeSession: function () {\n      this.onLogoutHook.stop();\n      Meteor.logout();\n      this.logout();\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    closeFrontSession: function () {\n      this.onLogoutHook.stop();\n      this.logout();\n      this.$router.push({\n        name: 'login'\n      });\n    },\n    setSession: function () {\n      if (Meteor.userId() !== null) {\n        this.user = this.$store.state.auth.user;\n      } else {\n        this.closeSession();\n      }\n    }\n  })\n});\n})();","map":{"version":3,"sources":["imports/ui/components/UserLogged/UserLogged.vue"],"names":["_objectSpread","module","link","default","v","mapMutations","exportDefault","name","data","user","username","onLogoutHook","created","setSession","mounted","$root","$on","Accounts","onLogout","closeFrontSession","methods","closeSession","stop","Meteor","logout","$router","push","userId","$store","state","auth"],"mappings":";;;;;;;;;;;;;qBAiBA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAFA,cAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA;AADA,OADA;AAIA,MAAA,YAAA,EAAA;AAJA,KAAA;AAMA,GATA;AAUA,EAAA,OAVA,cAUA;AACA,SAAA,UAAA;AACA,GAZA;AAaA,EAAA,OAbA,cAaA;AAAA;;AACA,SAAA,KAAA,CAAA,GAAA,CAAA,eAAA,EAAA,YAAA;AACA,MAAA,KAAA,CAAA,UAAA;AACA,KAFA;AAGA,SAAA,YAAA,GAAA,QAAA,CAAA,QAAA,CAAA,YAAA;AACA,MAAA,KAAA,CAAA,iBAAA;AACA,KAFA,CAAA;AAGA,GApBA;AAqBA,EAAA,OAAA,oBACA,YAAA,CAAA,MAAA,EAAA,CAAA,QAAA,CAAA,CADA;AAEA,IAAA,YAFA,cAEA;AACA,WAAA,YAAA,CAAA,IAAA;AACA,MAAA,MAAA,CAAA,MAAA;AACA,WAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAPA;AAQA,IAAA,iBARA,cAQA;AACA,WAAA,YAAA,CAAA,IAAA;AACA,WAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AACA,KAZA;AAaA,IAAA,UAbA,cAaA;AACA,UAAA,MAAA,CAAA,MAAA,OAAA,IAAA,EAAA;AACA,aAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,YAAA;AACA;AACA;AAnBA;AArBA","sourcesContent":["<template>\r\n    <v-menu offset-y>\r\n        <template v-slot:activator=\"{on}\">\r\n            <v-btn color=\"default\" dark text v-on=\"on\" class=\"mr-5\">\r\n                {{ user.username }}\r\n                <v-icon>keyboard_arrow_down</v-icon>\r\n            </v-btn>\r\n        </template>\r\n        <v-list>\r\n            <v-list-item :to=\"{name:'home.account'}\">Cuenta</v-list-item>\r\n            <v-list-item @click=\"closeSession\">Cerrar sesion</v-list-item>\r\n        </v-list>\r\n    </v-menu>\r\n</template>\r\n\r\n<script>\r\n    import {mapMutations} from 'vuex';\r\n    export default {\r\n        name: \"UserLogged\",\r\n        data() {\r\n            return {\r\n                user: {\r\n                    username: null\r\n                },\r\n                onLogoutHook: null\r\n            };\r\n        },\r\n        created() {\r\n            this.setSession();\r\n        },\r\n        mounted() {\r\n            this.$root.$on('setUserLogged', () => {\r\n                this.setSession();\r\n            });\r\n            this.onLogoutHook = Accounts.onLogout( () => {\r\n                this.closeFrontSession();\r\n            });\r\n        },\r\n        methods: {\r\n            ...mapMutations('auth', ['logout']),\r\n            closeSession () {\r\n                this.onLogoutHook.stop();\r\n                Meteor.logout();\r\n                this.logout();\r\n                this.$router.push({ name: 'login' });\r\n            },\r\n            closeFrontSession () {\r\n                this.onLogoutHook.stop();\r\n                this.logout();\r\n                this.$router.push({ name: 'login' });\r\n            },\r\n            setSession () {\r\n                if (Meteor.userId() !== null) {\r\n                    this.user = this.$store.state.auth.user;\r\n                } else {\r\n                    this.closeSession();\r\n                }\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"file":"imports/ui/components/UserLogged/UserLogged.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"UserLogged.vue"}}],"template":"\n<v-menu offset-y>\n    <template v-slot:activator=\"{on}\">\n        <v-btn color=\"default\" dark text v-on=\"on\" class=\"mr-5\">\n            {{ user.username }}\n            <v-icon>keyboard_arrow_down</v-icon>\n        </v-btn>\n    </template>\n    <v-list>\n        <v-list-item :to=\"{name:'home.account'}\">Cuenta</v-list-item>\n        <v-list-item @click=\"closeSession\">Cerrar sesion</v-list-item>\n    </v-list>\n</v-menu>\n","hash":"data-v-75ee5f8f"}