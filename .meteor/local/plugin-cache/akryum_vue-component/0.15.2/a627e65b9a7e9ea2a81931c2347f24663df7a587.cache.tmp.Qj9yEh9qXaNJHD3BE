{"code":"module.exportDefault = function(value) { __vue_script__ = value; }; (function(){var _objectSpread;\n\nmodule.link(\"@babel/runtime/helpers/objectSpread2\", {\n  default: function (v) {\n    _objectSpread = v;\n  }\n}, 0);\nvar mapMutations;\nmodule.link(\"vuex\", {\n  mapMutations: function (v) {\n    mapMutations = v;\n  }\n}, 0);\nvar uploadImage;\nmodule.link(\"../../mixins/users/uploadImage\", {\n  \"default\": function (v) {\n    uploadImage = v;\n  }\n}, 1);\nmodule.exportDefault({\n  name: \"GeneralData\",\n  mixins: [uploadImage],\n  data: function () {\n    return {\n      user: {\n        _id: null,\n        username: null,\n        emails: [{\n          address: null,\n          verified: false\n        }],\n        profile: {\n          profile: null,\n          name: null,\n          path: null\n        }\n      }\n    };\n  },\n  created: function () {\n    var user = this.$store.state.auth.user;\n    this.user = {\n      _id: user._id,\n      username: user.username,\n      emails: user.emails,\n      profile: user.profile\n    };\n  },\n  methods: _objectSpread({}, mapMutations('auth', ['setUser']), {\n    saveUser: function () {\n      var _this = this;\n\n      this.$loader.activate('Actualizando datos. . .');\n      Meteor.call('user.updatePersonalData', {\n        user: this.user,\n        photoFileUser: this.photoFileUser\n      }, function (error, response) {\n        _this.$loader.desactivate();\n\n        if (error) {\n          _this.$alert.showAlertSimple('error', error.reason);\n        } else {\n          _this.setUser(Meteor.user());\n\n          _this.$root.$emit('setUserLogged');\n\n          _this.$alert.showAlertSimple('success', response.message);\n        }\n      });\n    }\n  })\n});\n})();","map":{"version":3,"sources":["imports/ui/components/ConfigureAccount/GeneralData.vue"],"names":["_objectSpread","module","link","default","v","mapMutations","uploadImage","exportDefault","name","mixins","data","user","_id","username","emails","address","verified","profile","path","created","$store","state","auth","methods","saveUser","$loader","activate","Meteor","call","photoFileUser","error","response","desactivate","$alert","showAlertSimple","reason","setUser","$root","$emit","message"],"mappings":";;;;;;;;;;;;;;;;;;;qBA+CA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,MAAA,EAAA,CAAA,WAAA,CAFA;AAGA,EAAA,IAHA,cAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,GAAA,EAAA,IADA;AAEA,QAAA,QAAA,EAAA,IAFA;AAGA,QAAA,MAAA,EAAA,CAAA;AAAA,UAAA,OAAA,EAAA,IAAA;AAAA,UAAA,QAAA,EAAA;AAAA,SAAA,CAHA;AAIA,QAAA,OAAA,EAAA;AACA,UAAA,OAAA,EAAA,IADA;AAEA,UAAA,IAAA,EAAA,IAFA;AAGA,UAAA,IAAA,EAAA;AAHA;AAJA;AADA,KAAA;AAYA,GAhBA;AAiBA,EAAA,OAjBA,cAiBA;AACA,QAAA,IAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,IAAA;AACA,SAAA,IAAA,GAAA;AACA,MAAA,GAAA,EAAA,IAAA,CAAA,GADA;AAEA,MAAA,QAAA,EAAA,IAAA,CAAA,QAFA;AAGA,MAAA,MAAA,EAAA,IAAA,CAAA,MAHA;AAIA,MAAA,OAAA,EAAA,IAAA,CAAA;AAJA,KAAA;AAMA,GAzBA;AA0BA,EAAA,OAAA,oBACA,YAAA,CAAA,MAAA,EAAA,CAAA,SAAA,CAAA,CADA;AAEA,IAAA,QAFA,cAEA;AAAA;;AACA,WAAA,OAAA,CAAA,QAAA,CAAA,yBAAA;AACA,MAAA,MAAA,CAAA,IAAA,CAAA,yBAAA,EAAA;AAAA,QAAA,IAAA,EAAA,KAAA,IAAA;AAAA,QAAA,aAAA,EAAA,KAAA;AAAA,OAAA,EAAA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,WAAA;;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,OAAA,EAAA,KAAA,CAAA,MAAA;AACA,SAFA,MAEA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,MAAA,CAAA,IAAA,EAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,eAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,eAAA,CAAA,SAAA,EAAA,QAAA,CAAA,OAAA;AACA;AACA,OATA;AAUA;AAdA;AA1BA","sourcesContent":["<template>\r\n    <v-form @submit.prevent=\"saveUser\">\r\n        <v-card>\r\n            <v-card-title>\r\n                <div class=\"subtitle-2\">\r\n                    DATOS GENERALES\r\n                </div>\r\n            </v-card-title>\r\n            <v-row>\r\n                <v-col cols=\"12\" sm=\"12\" md=\"3\" lg=\"3\" class=\"pl-10\">\r\n                    <img :src=\"user.profile.path || '/img/user.png'\" :alt=\"user.profile.name\" width=\"100px\">\r\n                    <v-file-input v-show=\"false\" ref=\"imageFile\" v-model=\"file\" accept=\"image/png, image/jpeg, image/bmp\">\r\n                    </v-file-input>\r\n                    <v-btn color=\"primary\" class=\"mb-5 mt-5\" width=\"100%\" rounded depressed \r\n                            @click=\"onClickUploadButton\">\r\n                        <span v-if=\"user.profile.path\">Cambiar</span>\r\n                        <span v-else>Cargar</span>\r\n                    </v-btn>\r\n                </v-col>\r\n                <v-col cols=\"12\" sm=\"12\" md=\"9\" lg=\"9\">\r\n                    <v-card-text>\r\n                        <v-text-field v-model=\"user.profile.name\" id=\"inputName\" name=\"name\"  \r\n                                    label=\"Nombre completo\">\r\n                        </v-text-field>\r\n                        <v-text-field v-model=\"user.username\" id=\"inputUsername\" name=\"username\"            \r\n                                    label=\"Usuario\">\r\n                        </v-text-field>\r\n                        <v-text-field v-model=\"user.emails[0].address\" id=\"inputEmail\" name=\"email\"  \r\n                                    label=\"Correo electronico\">\r\n                        </v-text-field>\r\n                        <div class=\"d-flex justify-center\">\r\n                            <v-btn type=\"submit\" color=\"primary\" rounded depressed>\r\n                                cambiar\r\n                            </v-btn>\r\n                        </div>\r\n                    </v-card-text>\r\n                </v-col>\r\n\r\n            </v-row>\r\n        </v-card>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\n    import { mapMutations } from 'vuex';\r\n    import uploadImage from '../../mixins/users/uploadImage';\r\n    \r\n    export default {\r\n        name: \"GeneralData\",\r\n        mixins: [uploadImage],\r\n        data() {\r\n            return {\r\n                user: {\r\n                    _id: null,\r\n                    username: null,\r\n                    emails: [{ address: null, verified: false }],\r\n                    profile: {\r\n                        profile: null,\r\n                        name: null,\r\n                        path: null\r\n                    }\r\n                }\r\n            };\r\n        },\r\n        created() {\r\n            const user = this.$store.state.auth.user;\r\n            this.user = {\r\n                _id: user._id,\r\n                username: user.username,\r\n                emails: user.emails,\r\n                profile: user.profile,\r\n            };\r\n        },\r\n        methods: {\r\n            ...mapMutations('auth', ['setUser']),\r\n            saveUser() {\r\n                this.$loader.activate('Actualizando datos. . .');\r\n                Meteor.call('user.updatePersonalData', {user: this.user, photoFileUser: this.photoFileUser}, (error, response) => {\r\n                    this.$loader.desactivate();\r\n                    if (error) {\r\n                        this.$alert.showAlertSimple('error', error.reason);\r\n                    } else {\r\n                        this.setUser(Meteor.user());\r\n                        this.$root.$emit('setUserLogged');\r\n                        this.$alert.showAlertSimple('success', response.message);\r\n                    }\r\n                });\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"file":"imports/ui/components/ConfigureAccount/GeneralData.vue"},"styles":[{"css":"\n\n","map":{"version":3,"sources":[],"names":[],"mappings":"","file":"GeneralData.vue"}}],"template":"\n<v-form @submit.prevent=\"saveUser\">\n    <v-card>\n        <v-card-title>\n            <div class=\"subtitle-2\">\n                DATOS GENERALES\n            </div>\n        </v-card-title>\n        <v-row>\n            <v-col cols=\"12\" sm=\"12\" md=\"3\" lg=\"3\" class=\"pl-10\">\n                <img :src=\"user.profile.path || '/img/user.png'\" :alt=\"user.profile.name\" width=\"100px\">\n                <v-file-input v-show=\"false\" ref=\"imageFile\" v-model=\"file\" accept=\"image/png, image/jpeg, image/bmp\">\n                </v-file-input>\n                <v-btn color=\"primary\" class=\"mb-5 mt-5\" width=\"100%\" rounded depressed \n                        @click=\"onClickUploadButton\">\n                    <span v-if=\"user.profile.path\">Cambiar</span>\n                    <span v-else>Cargar</span>\n                </v-btn>\n            </v-col>\n            <v-col cols=\"12\" sm=\"12\" md=\"9\" lg=\"9\">\n                <v-card-text>\n                    <v-text-field v-model=\"user.profile.name\" id=\"inputName\" name=\"name\"  \n                                label=\"Nombre completo\">\n                    </v-text-field>\n                    <v-text-field v-model=\"user.username\" id=\"inputUsername\" name=\"username\"            \n                                label=\"Usuario\">\n                    </v-text-field>\n                    <v-text-field v-model=\"user.emails[0].address\" id=\"inputEmail\" name=\"email\"  \n                                label=\"Correo electronico\">\n                    </v-text-field>\n                    <div class=\"d-flex justify-center\">\n                        <v-btn type=\"submit\" color=\"primary\" rounded depressed>\n                            cambiar\n                        </v-btn>\n                    </div>\n                </v-card-text>\n            </v-col>\n\n        </v-row>\n    </v-card>\n</v-form>\n","hash":"data-v-15dc427a"}